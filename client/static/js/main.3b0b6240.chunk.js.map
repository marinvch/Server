{"version":3,"sources":["Api/index.js","Context/UserContext.js","Components/Auth/Register.js","Components/Auth/Login.js","Components/Header.js","Components/Footer.js","Components/Post/Posts.js","Components/Post/CreatePost.js","Components/Post/ViewPost.js","Components/Post/EditPost.js","Components/Profile/Profile.js","Components/Comment/CreateComment.js","App.js","index.js"],"names":["url","createContext","Register","history","useHistory","useState","email","setEmail","username","setUsername","password","setPassword","confirmPassword","setConfirmPassword","submit","e","a","preventDefault","newUser","axios","post","push","error","console","log","className","onSubmit","type","name","placeholder","required","onChange","target","value","to","Login","setUserData","useContext","UserContext","loginData","then","res","token","data","user","localStorage","setItem","Header","userData","onClick","clear","window","location","href","Footer","Post","posts","deletePost","id","delete","headers","length","map","index","author","pathname","_id","title","moment","createdAt","fromNow","reverse","CircularProgress","CreatePost","content","date","setData","addPost","alert","Date","EditPost","props","setPost","match","params","useEffect","get","message","setMessage","put","Profile","CreateComment","App","undefined","setPosts","getPosts","catch","checkLoggedIn","getItem","userRes","Provider","path","component","exact","render","Posts","ViewPost","ReactDOM","document","getElementById"],"mappings":"kYAAaA,EAAM,yC,gBCEJC,0BAAc,M,gCC6EdC,EAvEE,WACf,IAAMC,EAAUC,cADK,EAGGC,qBAHH,mBAGhBC,EAHgB,KAGTC,EAHS,OAISF,qBAJT,mBAIhBG,EAJgB,KAINC,EAJM,OAKSJ,qBALT,mBAKhBK,EALgB,KAKNC,EALM,OAMuBN,qBANvB,mBAMhBO,EANgB,KAMCC,EAND,KAQfC,EAAM,uCAAG,WAAOC,GAAP,eAAAC,EAAA,sDACb,IACED,EAAEE,iBACGT,IACHA,EAAWF,GAETY,EAAU,CAAEZ,QAAOE,WAAUE,WAAUE,mBAE3CO,IAAMC,KAAN,UAAcpB,EAAd,kBAAmCkB,GAEnCf,EAAQkB,KAAK,UACb,MAAOC,GACPC,QAAQC,IAAIF,GAZD,2CAAH,sDAgBZ,OACE,0BAASG,UAAU,mBAAnB,UACE,uDACA,uBAAMC,SAAUZ,EAAhB,UACE,cAAC,IAAD,IACA,uBACEW,UAAU,iBACVE,KAAK,QACLC,KAAK,QACLC,YAAY,QACZC,UAAQ,EACRC,SAAU,SAAChB,GAAD,OAAOR,EAASQ,EAAEiB,OAAOC,UAErC,uBACER,UAAU,iBACVE,KAAK,OACLC,KAAK,WACLC,YAAY,WACZE,SAAU,SAAChB,GAAD,OAAON,EAAYM,EAAEiB,OAAOC,UAExC,uBACER,UAAU,iBACVE,KAAK,WACLC,KAAK,WACLC,YAAY,WACZC,UAAQ,EACRC,SAAU,SAAChB,GAAD,OAAOJ,EAAYI,EAAEiB,OAAOC,UAExC,uBACER,UAAU,iBACVE,KAAK,WACLC,KAAK,mBACLC,YAAY,mBACZC,UAAQ,EACRC,SAAU,SAAChB,GAAD,OAAOF,EAAmBE,EAAEiB,OAAOC,UAE/C,wBAAQR,UAAU,iBAAiBE,KAAK,SAAxC,oBAGA,iCACE,wDADF,IACiC,cAAC,IAAD,CAAMO,GAAG,SAAT,6BCA1BC,G,MA9DD,WAAO,IACXC,EAAgBC,qBAAWC,GAA3BF,YACFjC,EAAUC,cAFE,EAIQC,qBAJR,mBAIXC,EAJW,KAIJC,EAJI,OAKcF,qBALd,mBAKXK,EALW,KAKDC,EALC,KAOZG,EAAM,uCAAG,WAAOC,GAAP,eAAAC,EAAA,6DACbD,EAAEE,iBADW,SAILsB,EAAY,CAAEjC,QAAOI,YAJhB,SAMLS,IAAMC,KAAN,UAAcpB,EAAd,eAAgCuC,GAAWC,MAAK,SAACC,GACrDL,EAAY,CACVM,MAAOD,EAAIE,KAAKD,MAChBE,KAAMH,EAAIE,KAAKC,OAEjBC,aAAaC,QAAQ,aAAcL,EAAIE,KAAKD,UAXnC,OAcXvC,EAAQkB,KAAK,KAdF,gDAgBXE,QAAQD,MAAR,MAhBW,yDAAH,sDAoBZ,OACE,mCACE,0BAASG,UAAU,gBAAnB,UACE,wDACA,uBAAMC,SAAUZ,EAAhB,UACE,cAAC,IAAD,IACA,uBACEW,UAAU,iBACVE,KAAK,OACLC,KAAK,QACLC,YAAY,QACZC,UAAQ,EACRC,SAAU,SAAChB,GAAD,OAAOR,EAASQ,EAAEiB,OAAOC,UAErC,uBACER,UAAU,iBACVE,KAAK,WACLC,KAAK,WACLC,YAAY,WACZC,UAAQ,EACRC,SAAU,SAAChB,GAAD,OAAOJ,EAAYI,EAAEiB,OAAOC,UAGxC,wBAAQR,UAAU,cAAcE,KAAK,SAArC,mBAGA,iCACE,uDADF,IACgC,cAAC,IAAD,CAAMO,GAAG,YAAT,mCCb3Ba,G,MA9CA,WAAO,IAAD,EACeV,qBAAWC,GAArCU,EADW,EACXA,SADW,EACDZ,YACFhC,cAOhB,OACE,yBAAQqB,UAAU,SAAlB,UACE,yBAASA,UAAU,OAAnB,SACE,8CAEDuB,EAASJ,KACR,0BAASnB,UAAU,aAAnB,UACE,cAAC,IAAD,CAAMA,UAAU,WAAWS,GAAG,IAA9B,kBAGA,cAAC,IAAD,CAAMT,UAAU,WAAWS,GAAG,eAA9B,sBAGA,cAAC,IAAD,CAAMT,UAAU,WAAWS,GAAG,WAA9B,qBAGA,cAAC,IAAD,CAAMT,UAAU,WAAWS,GAAG,IAAIe,QAAS,kBApBjDJ,aAAaK,aACbC,OAAOC,SAASC,KAAO,MAmBjB,uBAKF,0BAAS5B,UAAU,aAAnB,UACE,cAAC,IAAD,CAAMA,UAAU,WAAWS,GAAG,IAA9B,kBAGA,cAAC,IAAD,CAAMT,UAAU,WAAWS,GAAG,YAA9B,sBAGA,cAAC,IAAD,CAAMT,UAAU,WAAWS,GAAG,SAA9B,2BChCKoB,G,MARA,WACb,OACE,iCACE,+D,mEC4FSC,MAtFf,YAA0B,IAAVC,EAAS,EAATA,MACNR,EAAaX,qBAAWC,GAAxBU,SAEFS,EAAU,uCAAG,WAAOC,GAAP,SAAA1C,EAAA,sDACjBG,IAAMwC,OAAN,UAAgB3D,EAAhB,yBAAoC0D,GAAM,CACxCE,QAAS,CACP,eAAgBZ,EAASN,SAHZ,2CAAH,sDAQhB,OACE,mCACIc,EAAMK,OAKN,yBAASpC,UAAU,eAAnB,SACGuB,EAASJ,KACR,mCACGY,EACEM,KAAI,SAAC1C,EAAM2C,GACV,OACE,+BACE,0BAAStC,UAAU,OAAnB,UACE,uCACA,4BAAIL,EAAK4C,OAAOxD,cAElB,yBAASiB,UAAU,UAAnB,SACE,cAAC,IAAD,CACEA,UAAU,eACVS,GAAI,CAAE+B,SAAS,cAAD,OAAgB7C,EAAK8C,MAFrC,SAIE,uCAAU9C,EAAK+C,aAGnB,0BAAS1C,UAAU,OAAnB,UACE,yCACC2C,IAAO,GAAD,OAAIhD,EAAKiD,YAAaC,UAC7B,cAAC,IAAD,CAAMpC,GAAI,CAAE+B,SAAS,cAAD,OAAgB7C,EAAK8C,MAAzC,SACE,cAAC,IAAD,MAEF,cAAC,IAAD,CAAMhC,GAAG,IAAIe,QAAS,kBAAMQ,EAAWrC,EAAK8C,MAA5C,SACE,cAAC,IAAD,WApBGH,MA0BZQ,YAGL,mCACGf,EACEM,KAAI,SAAC1C,EAAM2C,GACV,OACE,+BACE,0BAAStC,UAAU,OAAnB,UACE,uCACA,4BAAIL,EAAK4C,OAAOxD,cAElB,yBAASiB,UAAU,UAAnB,SACE,cAAC,IAAD,CACEA,UAAU,eACVS,GAAI,CAAE+B,SAAS,cAAD,OAAgB7C,EAAK8C,MAFrC,SAIE,uCAAU9C,EAAK+C,aAGnB,0BAAS1C,UAAU,OAAnB,UACE,yCACC2C,IAAO,GAAD,OAAIhD,EAAKiD,YAAaC,eAfxBP,MAoBZQ,cA/DT,qBAAK9C,UAAU,UAAf,SACE,cAAC+C,EAAA,EAAD,SC4CKC,G,MA/DI,WAAO,IAChBzB,EAAaX,qBAAWC,GAAxBU,SACF7C,EAAUC,cAFO,EAKCC,mBAAS,CAC/B8D,MAAO,GACPO,QAAS,GACTC,KAAM,GACNX,OAAQ,KATa,mBAKhBrB,EALgB,KAKViC,EALU,KAYjBC,EAAO,uCAAG,WAAO9D,GAAP,SAAAC,EAAA,yDACdD,EAAEE,iBADY,SAKP0B,EAAKwB,OAAUxB,EAAK+B,QALb,yCAMHI,MAAM,qBANH,cAUR9B,EAASN,QACXC,EAAKgC,KAAO,IAAII,KAChBpC,EAAKqB,OAAShB,EAASJ,KAAKc,IAZlB,SAgBNvC,IAAMC,KAAN,UAAcpB,EAAd,qBAAsC2C,EAAM,CAChDiB,QAAS,CACP,eAAgBZ,EAASN,SAlBjB,OAuBZvC,EAAQkB,KAAK,KAvBD,kDAyBZE,QAAQD,MAAR,MAzBY,0DAAH,sDA6Bb,OACE,0BAASG,UAAU,eAAnB,UACE,8CACA,uBAAMC,SAAUmD,EAAhB,UACE,uBACEpD,UAAU,aACVE,KAAK,OACLE,YAAY,QACZE,SAAU,SAAChB,GAAD,OAAO6D,EAAQ,2BAAKjC,GAAN,IAAYwB,MAAOpD,EAAEiB,OAAOC,YAEtD,uBACER,UAAU,aACVE,KAAK,OACLE,YAAY,UACZE,SAAU,SAAChB,GAAD,OAAO6D,EAAQ,2BAAKjC,GAAN,IAAY+B,QAAS3D,EAAEiB,OAAOC,YAExD,wBAAQN,KAAK,SAAb,mCC/BOqD,EA3BE,SAACC,GAAW,IACnBjC,EAAaX,qBAAWC,GAAxBU,SADkB,EAEF3C,mBAAS,IAFP,mBAEnBe,EAFmB,KAEb8D,EAFa,KAIpBxB,EAAKuB,EAAME,MAAMC,OAAO1B,GAQ9B,OANA2B,qBAAU,WACRlE,IAAMmE,IAAN,UAAatF,EAAb,kBAA0B0D,IAAMlB,MAAK,SAACC,GACpCyC,EAAQzC,EAAIE,WAEb,CAACe,EAAIuB,IAGN,mCACI7D,EAAK+C,OAAU/C,EAAKsD,QAGpB,0BAASjD,UAAU,eAAnB,UACE,4BAAIL,EAAK+C,QACT,4BAAI/C,EAAKsD,UACR1B,EAASJ,KAAO,iDAA+B,gCALlD,cAAC4B,EAAA,EAAD,OC2COQ,EAzDE,SAACC,GAChB,IAAM9E,EAAUC,cACR4C,EAAaX,qBAAWC,GAAxBU,SAFkB,EAGI3C,mBAAS,IAHb,mBAGnBkF,EAHmB,KAGVC,EAHU,KA6B1B,OANAH,qBAAU,WACRlE,IAAMmE,IAAN,UAAatF,EAAb,kBAA0BiF,EAAME,MAAMC,OAAO1B,KAAMlB,MAAK,SAACC,GACvD+C,EAAW/C,EAAIE,WAEhB,CAACsC,EAAME,MAAMC,OAAO1B,KAGrB,0BAASjC,UAAU,eAAnB,UACE,2CACE8D,EAAQpB,OAAUoB,EAAQb,QAG1B,iCACE,uBACEjD,UAAU,aACVQ,MAAOsD,EAAQpB,MACfpC,SAAU,SAAChB,GAAD,OAAOyE,EAAW,2BAAKD,GAAN,IAAepB,MAAOpD,EAAEiB,OAAOC,UAC1DN,KAAK,SAEP,uBACEF,UAAU,aACVQ,MAAOsD,EAAQb,QACf3C,SAAU,SAAChB,GAAD,OACRyE,EAAW,2BAAKD,GAAN,IAAeb,QAAS3D,EAAEiB,OAAOC,UAE7CN,KAAK,SAEP,wBAAQsB,QA5CG,SAAClC,GAClBA,EAAEE,iBAEF,IAAM0B,EAAO,CACXwB,MAAOoB,EAAQpB,MACfO,QAASa,EAAQb,SAGnBvD,IACGsE,IADH,UACUzF,EADV,kBACuBiF,EAAME,MAAMC,OAAO1B,IAAMf,EAAM,CAClDiB,QAAS,CACP,eAAgBZ,EAASN,SAG5BF,KAAKrC,EAAQkB,KAAK,OA8Bf,8BAjBF,cAACmD,EAAA,EAAD,Q,MCxBOkB,MAbf,WACE,OACE,mCACE,0BAASjE,UAAU,UAAnB,UACE,2CACA,6CACA,sDACA,+DCEOkE,MATf,WAEE,OADgBvF,cAEd,8BACE,wBAAQuB,KAAK,GAAb,4B,MCeS,SAASiE,IAAO,IAAD,EACIvF,mBAAS,CACvCqC,WAAOmD,EACPjD,UAAMiD,IAHoB,mBACrB7C,EADqB,KACXZ,EADW,OAMF/B,mBAAS,IANP,mBAMrBmD,EANqB,KAMdsC,EANc,KAQtBC,EAAQ,uCAAG,sBAAA/E,EAAA,sEACTG,IACHmE,IADG,UACItF,EADJ,YAEHwC,MAAK,SAACC,GACLqD,EAASrD,EAAIE,SAEdqD,OAAM,SAAC1E,GAAD,OAAWC,QAAQC,IAAIF,MANjB,2CAAH,qDASR2E,EAAa,uCAAG,8BAAAjF,EAAA,6DAEN,QADV0B,EAAQG,aAAaqD,QAAQ,iBAE/BrD,aAAaC,QAAQ,aAAc,IACnCJ,EAAQ,IAJU,SAOCvB,IAAMC,KAAN,UAAcpB,EAAd,oBAAqC,KAAM,CAC9D4D,QAAS,CACP,eAAgBlB,KATA,kBAaPC,KAbO,iCAcExB,IAAMmE,IAAN,UAAatF,EAAb,qBAAqC,CACvD4D,QAAS,CACP,eAAgBlB,KAhBF,OAcdyD,EAdc,OAmBlB/D,EAAY,CAAEM,QAAOE,KAAMuD,EAAQxD,OAnBjB,4CAAH,qDA4BnB,OALA0C,qBAAU,WACRY,IACAF,MACC,CAACvC,IAGF,cAAC,IAAD,UACE,eAAClB,EAAY8D,SAAb,CAAsBnE,MAAO,CAAEe,WAAUZ,eAAzC,UACE,cAAC,EAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOiE,KAAK,YAAYC,UAAWpG,IACnC,cAAC,IAAD,CAAOmG,KAAK,SAASC,UAAWnE,IAChC,cAAC,IAAD,CAAOkE,KAAK,WAAWC,UAAWZ,IAGlC,cAAC,IAAD,CAAOa,OAAK,EAACF,KAAK,IAAIG,OAAQ,kBAAM,cAACC,EAAD,CAAOjD,MAAOA,OAClD,cAAC,IAAD,CAAO6C,KAAK,eAAeC,UAAW7B,IACtC,cAAC,IAAD,CACE4B,KAAK,iBACLG,OAAQ,SAACvB,GAAD,OAAW,cAAC,EAAD,2BAAcA,GAAd,IAAqBzB,MAAOA,QAEjD,cAAC,IAAD,CACE6C,KAAK,iBACLG,OAAQ,SAACvB,GAAD,OAAW,cAACyB,EAAD,2BAAczB,GAAd,IAAqBzB,MAAOA,QAIjD,cAAC,IAAD,CAAO6C,KAAK,iBAAiBC,UAAWX,OAE1C,cAAC,EAAD,S,MCtFRgB,IAASH,OAAO,cAAC,EAAD,IAASI,SAASC,eAAe,W","file":"static/js/main.3b0b6240.chunk.js","sourcesContent":["export const url = \"https://mcholakov-forum.herokuapp.com/\";\r\n\r\n\r\n\r\n","import { createContext } from \"react\";\r\n\r\nexport default createContext(null);\r\n","import React, { useState } from \"react\";\r\n\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { url } from \"../../Api/index\";\r\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\r\nimport axios from \"axios\";\r\nimport \"./Styles/Register.css\";\r\n\r\nconst Register = () => {\r\n  const history = useHistory();\r\n\r\n  let [email, setEmail] = useState();\r\n  let [username, setUsername] = useState();\r\n  let [password, setPassword] = useState();\r\n  let [confirmPassword, setConfirmPassword] = useState();\r\n\r\n  const submit = async (e) => {\r\n    try {\r\n      e.preventDefault();\r\n      if (!username) {\r\n        username = email;\r\n      }\r\n      let newUser = { email, username, password, confirmPassword };\r\n\r\n      axios.post(`${url}/auth/register`, newUser);\r\n\r\n      history.push(\"/login\");\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section className=\"register-wrapper\">\r\n      <h1>Register your Account</h1>\r\n      <form onSubmit={submit}>\r\n        <AccountCircleIcon />\r\n        <input\r\n          className=\"register-input\"\r\n          type=\"email\"\r\n          name=\"email\"\r\n          placeholder=\"Email\"\r\n          required\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n        <input\r\n          className=\"register-input\"\r\n          type=\"text\"\r\n          name=\"username\"\r\n          placeholder=\"Username\"\r\n          onChange={(e) => setUsername(e.target.value)}\r\n        />\r\n        <input\r\n          className=\"register-input\"\r\n          type=\"password\"\r\n          name=\"password\"\r\n          placeholder=\"Password\"\r\n          required\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n        <input\r\n          className=\"register-input\"\r\n          type=\"password\"\r\n          name=\"confirm_password\"\r\n          placeholder=\"Confirm Password\"\r\n          required\r\n          onChange={(e) => setConfirmPassword(e.target.value)}\r\n        />\r\n        <button className=\"register-buton\" type=\"submit\">\r\n          SignUp\r\n        </button>\r\n        <span>\r\n          <p>Already have an account</p> <Link to=\"/login\">Login</Link>\r\n        </span>\r\n      </form>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import React, { useState, useContext } from \"react\";\r\nimport UserContext from \"../../Context/UserContext\";\r\nimport { url } from \"../../Api/index\";\r\nimport axios from \"axios\";\r\n\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\r\n\r\nimport \"./Styles/Login.css\";\r\n\r\nconst Login = () => {\r\n  const { setUserData } = useContext(UserContext);\r\n  const history = useHistory();\r\n\r\n  const [email, setEmail] = useState();\r\n  const [password, setPassword] = useState();\r\n\r\n  const submit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const loginData = { email, password };\r\n\r\n      await axios.post(`${url}/auth/login`, loginData).then((res) => {\r\n        setUserData({\r\n          token: res.data.token,\r\n          user: res.data.user,\r\n        });\r\n        localStorage.setItem(\"auth-token\", res.data.token);\r\n      });\r\n\r\n      history.push(\"/\");\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <section className=\"login-wrapper\">\r\n        <h1>Log in to your Account</h1>\r\n        <form onSubmit={submit}>\r\n          <AccountCircleIcon />\r\n          <input\r\n            className=\"register-input\"\r\n            type=\"text\"\r\n            name=\"email\"\r\n            placeholder=\"Email\"\r\n            required\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n          <input\r\n            className=\"register-input\"\r\n            type=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"Password\"\r\n            required\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n\r\n          <button className=\"login-buton\" type=\"submit\">\r\n            Login\r\n          </button>\r\n          <span>\r\n            <p>Don't have an account?</p> <Link to=\"/register\">Register</Link>\r\n          </span>\r\n        </form>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useContext } from \"react\";\r\nimport UserContext from \"../Context/UserContext\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport \"./Styles/Header.css\";\r\n\r\nconst Header = () => {\r\n  const { userData, setUserData } = useContext(UserContext);\r\n  const history = useHistory();\r\n\r\n  const logout = () => {\r\n    localStorage.clear();\r\n    window.location.href = \"/\";\r\n  };\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <section className=\"logo\">\r\n        <h1>MERN FORUM</h1>\r\n      </section>\r\n      {userData.user ? (\r\n        <section className=\"navigation\">\r\n          <Link className=\"nav-item\" to=\"/\">\r\n            Home\r\n          </Link>\r\n          <Link className=\"nav-item\" to=\"/create-post\">\r\n            Add Post\r\n          </Link>\r\n          <Link className=\"nav-item\" to=\"/profile\">\r\n            Profile\r\n          </Link>\r\n          <Link className=\"nav-item\" to=\"/\" onClick={() => logout()}>\r\n            Logout\r\n          </Link>\r\n        </section>\r\n      ) : (\r\n        <section className=\"navigation\">\r\n          <Link className=\"nav-item\" to=\"/\">\r\n            Home\r\n          </Link>\r\n          <Link className=\"nav-item\" to=\"/register\">\r\n            Register\r\n          </Link>\r\n          <Link className=\"nav-item\" to=\"/login\">\r\n            Login\r\n          </Link>\r\n        </section>\r\n      )}\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport \"./Styles/Footer.css\";\r\nconst Footer = () => {\r\n  return (\r\n    <footer>\r\n      <p>Created by: Marin Cholakov</p>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React, { useContext } from \"react\";\r\nimport UserContext from \"../../Context/UserContext\";\r\nimport { url } from \"../../Api/index\";\r\nimport { Link } from \"react-router-dom\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport \"./Styles/Post.css\";\r\n\r\nimport moment from \"moment\";\r\nimport axios from \"axios\";\r\nfunction Post({ posts }) {\r\n  const { userData } = useContext(UserContext);\r\n\r\n  const deletePost = async (id) => {\r\n    axios.delete(`${url}/posts/delete/${id}`, {\r\n      headers: {\r\n        \"x-auth-token\": userData.token,\r\n      },\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {!posts.length ? (\r\n        <div className=\"spinner\">\r\n          <CircularProgress />\r\n        </div>\r\n      ) : (\r\n        <section className=\"post-wrapper\">\r\n          {userData.user ? (\r\n            <>\r\n              {posts\r\n                .map((post, index) => {\r\n                  return (\r\n                    <li key={index}>\r\n                      <section className=\"user\">\r\n                        <p>User: </p>\r\n                        <p>{post.author.username}</p>\r\n                      </section>\r\n                      <section className=\"content\">\r\n                        <Link\r\n                          className=\"link-content\"\r\n                          to={{ pathname: `/view-post/${post._id}` }}\r\n                        >\r\n                          <p>Title:{post.title}</p>\r\n                        </Link>\r\n                      </section>\r\n                      <section className=\"info\">\r\n                        <p>Detailes</p>\r\n                        {moment(`${post.createdAt}`).fromNow()}\r\n                        <Link to={{ pathname: `/edit-post/${post._id}` }}>\r\n                          <EditIcon />\r\n                        </Link>\r\n                        <Link to=\"/\" onClick={() => deletePost(post._id)}>\r\n                          <DeleteForeverIcon />\r\n                        </Link>\r\n                      </section>\r\n                    </li>\r\n                  );\r\n                })\r\n                .reverse()}\r\n            </>\r\n          ) : (\r\n            <>\r\n              {posts\r\n                .map((post, index) => {\r\n                  return (\r\n                    <li key={index}>\r\n                      <section className=\"user\">\r\n                        <p>User: </p>\r\n                        <p>{post.author.username}</p>\r\n                      </section>\r\n                      <section className=\"content\">\r\n                        <Link\r\n                          className=\"link-content\"\r\n                          to={{ pathname: `/view-post/${post._id}` }}\r\n                        >\r\n                          <p>Title:{post.title}</p>\r\n                        </Link>\r\n                      </section>\r\n                      <section className=\"info\">\r\n                        <p>Detailes</p>\r\n                        {moment(`${post.createdAt}`).fromNow()}\r\n                      </section>\r\n                    </li>\r\n                  );\r\n                })\r\n                .reverse()}\r\n            </>\r\n          )}\r\n        </section>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Post;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport UserContext from \"../../Context/UserContext\";\r\nimport \"./Styles/Createpost.css\";\r\nimport { url } from \"../../Api/index\";\r\nimport axios from \"axios\";\r\n\r\nconst CreatePost = () => {\r\n  const { userData } = useContext(UserContext);\r\n  const history = useHistory();\r\n\r\n  //Post data\r\n  const [data, setData] = useState({\r\n    title: \"\",\r\n    content: \"\",\r\n    date: \"\",\r\n    author: \"\",\r\n  });\r\n\r\n  const addPost = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      //Validation\r\n      if (!data.title || !data.content) {\r\n        return alert(\"Fill all Fields.\");\r\n      }\r\n\r\n      //Check is LoggedIn\r\n      if (userData.token) {\r\n        data.date = new Date();\r\n        data.author = userData.user.id;\r\n      }\r\n\r\n      //Sending Post Request to the backend\r\n      await axios.post(`${url}/posts/createpost`, data, {\r\n        headers: {\r\n          \"x-auth-token\": userData.token,\r\n        },\r\n      });\r\n\r\n      //Relocating to home Page\r\n      history.push(\"/\");\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section className=\"post-wrapper\">\r\n      <h1>Add New Post</h1>\r\n      <form onSubmit={addPost}>\r\n        <input\r\n          className=\"post-input\"\r\n          type=\"text\"\r\n          placeholder=\"Title\"\r\n          onChange={(e) => setData({ ...data, title: e.target.value })}\r\n        />\r\n        <input\r\n          className=\"post-input\"\r\n          type=\"text\"\r\n          placeholder=\"Content\"\r\n          onChange={(e) => setData({ ...data, content: e.target.value })}\r\n        />\r\n        <button type=\"submit\">Save new post</button>\r\n      </form>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default CreatePost;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { url } from \"../../Api/index\";\r\nimport axios from \"axios\";\r\nimport UserContext from \"../../Context/UserContext\";\r\n\r\nconst EditPost = (props) => {\r\n  const { userData } = useContext(UserContext);\r\n  const [post, setPost] = useState({});\r\n\r\n  const id = props.match.params.id;\r\n\r\n  useEffect(() => {\r\n    axios.get(`${url}/posts/${id}`).then((res) => {\r\n      setPost(res.data);\r\n    });\r\n  }, [id, props]);\r\n\r\n  return (\r\n    <>\r\n      {!post.title || !post.content ? (\r\n        <CircularProgress />\r\n      ) : (\r\n        <section className=\"post-wrapper\">\r\n          <p>{post.title}</p>\r\n          <p>{post.content}</p>\r\n          {userData.user ? <button>Add Comment</button> : <></>}\r\n        </section>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditPost;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport UserContext from \"../../Context/UserContext\";\r\nimport { url } from \"../../Api/index\";\r\nimport axios from \"axios\";\r\n\r\nconst EditPost = (props) => {\r\n  const history = useHistory();\r\n  const { userData } = useContext(UserContext);\r\n  const [message, setMessage] = useState({});\r\n \r\n\r\n  const updatePost = (e) => {\r\n    e.preventDefault();\r\n\r\n    const data = {\r\n      title: message.title,\r\n      content: message.content,\r\n    };\r\n\r\n    axios\r\n      .put(`${url}/posts/${props.match.params.id}`, data, {\r\n        headers: {\r\n          \"x-auth-token\": userData.token,\r\n        },\r\n      })\r\n      .then(history.push(\"/\"));\r\n  };\r\n\r\n  useEffect(() => {\r\n    axios.get(`${url}/posts/${props.match.params.id}`).then((res) => {\r\n      setMessage(res.data);\r\n    });\r\n  }, [props.match.params.id]);\r\n\r\n  return (\r\n    <section className=\"post-wrapper\">\r\n      <h1>Edit Post</h1>\r\n      {!message.title || !message.content ? (\r\n        <CircularProgress />\r\n      ) : (\r\n        <form>\r\n          <input\r\n            className=\"post-input\"\r\n            value={message.title}\r\n            onChange={(e) => setMessage({ ...message, title: e.target.value })}\r\n            type=\"text\"\r\n          />\r\n          <input\r\n            className=\"post-input\"\r\n            value={message.content}\r\n            onChange={(e) =>\r\n              setMessage({ ...message, content: e.target.value })\r\n            }\r\n            type=\"text\"\r\n          />\r\n          <button onClick={updatePost}>Save new post</button>\r\n        </form>\r\n      )}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default EditPost;\r\n","import React from \"react\";\r\nimport \"./Styles/Profile.css\";\r\n\r\nfunction Profile() {\r\n  return (\r\n    <>\r\n      <section className=\"profile\">\r\n        <h1> Username</h1>\r\n        <section>Avatar</section>\r\n        <section>Number of posts</section>\r\n        <section>Number of comments</section>\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction CreateComment() {\r\n  const history = useHistory();\r\n  return (\r\n    <div>\r\n      <button type=\"\">Add Comment</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CreateComment;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\nimport { url } from \"./Api/index\";\r\nimport axios from \"axios\";\r\nimport UserContext from \"./Context/UserContext\";\r\n\r\nimport Register from \"./Components/Auth/Register\";\r\nimport Login from \"./Components/Auth/Login\";\r\n\r\nimport Header from \"./Components/Header\";\r\nimport Footer from \"./Components/Footer\";\r\n\r\nimport Posts from \"./Components/Post/Posts\";\r\nimport CreatePost from \"./Components/Post/CreatePost\";\r\nimport ViewPost from \"./Components/Post/ViewPost\";\r\nimport EditPost from \"./Components/Post/EditPost\";\r\n\r\nimport Profile from \"./Components/Profile/Profile\";\r\n\r\nimport CreateComment from \"./Components/Comment/CreateComment\";\r\nimport \"./App.css\";\r\n\r\nexport default function App() {\r\n  const [userData, setUserData] = useState({\r\n    token: undefined,\r\n    user: undefined,\r\n  });\r\n\r\n  const [posts, setPosts] = useState([]);\r\n\r\n  const getPosts = async () => {\r\n    await axios\r\n      .get(`${url}/posts/`)\r\n      .then((res) => {\r\n        setPosts(res.data);\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  const checkLoggedIn = async () => {\r\n    let token = localStorage.getItem(\"auth-token\");\r\n    if (token === null) {\r\n      localStorage.setItem(\"auth-token\", \"\");\r\n      token = \"\";\r\n    }\r\n    //check if the token is valid\r\n    let tokenRes = await axios.post(`${url}/auth/validtoken`, null, {\r\n      headers: {\r\n        \"x-auth-token\": token,\r\n      },\r\n    });\r\n\r\n    if (tokenRes.data) {\r\n      let userRes = await axios.get(`${url}/auth/currentuser`, {\r\n        headers: {\r\n          \"x-auth-token\": token,\r\n        },\r\n      });\r\n      setUserData({ token, user: userRes.data });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    checkLoggedIn();\r\n    getPosts();\r\n  }, [posts]);\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <UserContext.Provider value={{ userData, setUserData }}>\r\n        <Header />\r\n        <Switch>\r\n          <Route path=\"/register\" component={Register} />\r\n          <Route path=\"/login\" component={Login} />\r\n          <Route path=\"/profile\" component={Profile} />\r\n\r\n          {/* Post Routes */}\r\n          <Route exact path=\"/\" render={() => <Posts posts={posts} />} />\r\n          <Route path=\"/create-post\" component={CreatePost} />\r\n          <Route\r\n            path=\"/edit-post/:id\"\r\n            render={(props) => <EditPost {...props} posts={posts} />}\r\n          />\r\n          <Route\r\n            path=\"/view-post/:id\"\r\n            render={(props) => <ViewPost {...props} posts={posts} />}\r\n          />\r\n\r\n          {/* Comment Routes */}\r\n          <Route path=\"/createcomment\" component={CreateComment} />\r\n        </Switch>\r\n        <Footer />\r\n      </UserContext.Provider>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}